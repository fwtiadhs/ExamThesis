@model ExamThesis.Storage.Model.Question

<h2>Delete Question</h2>

<h3>Are you sure you want to delete this question?</h3>
<div>
    <h4>Question:</h4>
    <div>
        <strong>@Model.QuestionText</strong>
    </div>
</div>

<form id="deleteForm">
     @Html.AntiForgeryToken() 
    <button type="button" class="btn btn-danger" onclick="deleteQuestion(@Model.QuestionId)">Delete</button>
    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</form>

@section Scripts {
    <script>
        function deleteQuestion() {
            if (confirm('Are you sure you want to delete this question?')) {
                $.ajax({
                    url: '/QuestionCreate/DeleteConfirmed/' + @Model.QuestionId,
                    type: 'DELETE',
                    headers: {
                        'RequestVerificationToken': $('input[name="__RequestVerificationToken"]').val()
                    },
                    success: function (data) {
                        console.log('Question deleted successfully');
                        // Προαιρετικά μπορείτε να κάνετε κάποια ενέργεια μετά τη διαγραφή
                    },
                    error: function (xhr, status, error) {
                        console.error('Error deleting question:', error);
                    }
                });
            }
        }

    </script>
}
