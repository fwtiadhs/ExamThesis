@{
    ViewData["Title"] = "Exam Result";
    Layout = "~/Views/Shared/_Layout.cshtml";

    // No cache for result page
    ViewContext.HttpContext.Response.Headers["Cache-Control"] = "no-store, no-cache, must-revalidate, max-age=0";
    ViewContext.HttpContext.Response.Headers["Pragma"] = "no-cache";
    ViewContext.HttpContext.Response.Headers["Expires"] = "0";
}

<div class="container">
    <h2 class="mt-5">Exam Result</h2>

    <div class="row mt-4">
        <div class="col-md-6">
            @if (ViewBag.ShowGrade)
            {
                <p>Your earned points: <strong>@ViewBag.EarnedPoints</strong></p>
                <p>Total points for the exam: <strong>@ViewBag.TotalPoints</strong></p>
            }
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-6">
            @if (ViewBag.Passed)
            {
                <div class="alert alert-success" role="alert">
                    Congratulations! You passed the exam.
                </div>
            }
            else
            {
                <div class="alert alert-danger" role="alert">
                    Unfortunately, you did not pass the exam.
                </div>
            }
        </div>
    </div>
</div>

<script>
history.pushState(null, "", location.href);
window.addEventListener("popstate", function () {
    location.replace("@Url.Action("Index", "Exam")");
});
</script>
